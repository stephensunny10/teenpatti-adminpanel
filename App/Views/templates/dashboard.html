{% extends "partition/layout.html" %}


{% block body %}
	
	<!-- Breadcrumb -->
	<section class="content-header">
	  <h1>
	    {{App.name}}
	    <small>Version 2.0</small>
	  </h1>
	  <ol class="breadcrumb">
	    <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
	    <li class="active">Dashboard</li>
	  </ol>
	</section>

	<!-- /Title -->
	{% include "partition/notification.html" %}
	<!-- Row -->

    <!-- /Main Content -->
    <section class="content">
      
      	<div class="row">
	        <div class="col-md-3 col-sm-6 col-xs-12">
	          <div class="info-box">
	            <span class="info-box-icon bg-aqua"><i class="ion ion-ios-gear-outline"></i></span>

	            <div class="info-box-content">
	              <span class="info-box-text">Online Players</span>
	              <span class="info-box-number">{{totalOnlinePlayers}}</span>
	            </div>
	            <!-- /.info-box-content -->
	          </div>
	          <!-- /.info-box -->
	        </div>
	        <!-- /.col -->
	        <div class="col-md-3 col-sm-6 col-xs-12">
	          <div class="info-box">
	            <span class="info-box-icon bg-red"><i class="fa fa-gamepad"></i></span>

	            <div class="info-box-content">
	              <span class="info-box-text">Game Played</span>
	              <span class="info-box-number">{{totalGamePlayed}}</span>
	            </div>
	            <!-- /.info-box-content -->
	          </div>
	          <!-- /.info-box -->
	        </div>
	        <!-- /.col -->

	        <!-- fix for small devices only -->
	        <div class="clearfix visible-sm-block"></div>

	        <div class="col-md-3 col-sm-6 col-xs-12">
	          <div class="info-box">
	            <span class="info-box-icon bg-green"><i class="ion ion-ios-cart-outline"></i></span>

	            <div class="info-box-content">
	              <span class="info-box-text">Total Cash</span>
	              <span class="info-box-number">{{totalCash}}</span>
	            </div>
	            <!-- /.info-box-content -->
	          </div>
	          <!-- /.info-box -->
	        </div>
	        <!-- /.col -->
	        <div class="col-md-3 col-sm-6 col-xs-12">
	          <div class="info-box">
	            <span class="info-box-icon bg-yellow"><i class="ion ion-ios-people-outline"></i></span>

	            <div class="info-box-content">
	              <span class="info-box-text">Total Players</span>
	              <span class="info-box-number">{{toalPlayer}}</span>
	            </div>
	            <!-- /.info-box-content -->
	          </div>
	          <!-- /.info-box -->
	        </div>
	        <!-- /.col -->
      	</div>
      <!-- /.row -->

      	<div class="row">
	        <div class="col-md-12">
	          <div class="box">
	            <div class="box-header with-border">
	              <h3 class="box-title">Monthly Recap Report</h3>

	              <div class="box-tools pull-right">
	                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
	                </button>
	                <div class="btn-group">
	                  <button type="button" class="btn btn-box-tool dropdown-toggle" data-toggle="dropdown">
	                    <i class="fa fa-wrench"></i></button>
	                  <ul class="dropdown-menu" role="menu">
	                    <li><a href="#">Action</a></li>
	                    <li><a href="#">Another action</a></li>
	                    <li><a href="#">Something else here</a></li>
	                    <li class="divider"></li>
	                    <li><a href="#">Separated link</a></li>
	                  </ul>
	                </div>
	                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
	              </div>
	            </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	              <div class="row">
	                <div class="col-md-12">
	                  <p class="text-center">
	                    <strong>Game Played By User from: Jan, 2018 - Today </strong>
	                  </p>

	                  <div class="chart">
	                    <!-- Sales Chart Canvas -->
	                    <canvas id="monthlyPlayedGameChart" style="height: 180px;"></canvas>
	                  </div>
	                  <!-- /.chart-responsive -->
	                </div>
	      
	              </div>
	              <!-- /.row -->
	            </div>
	            
	            <!-- <div class="box-footer">
	              <div class="row">
	                <div class="col-sm-3 col-xs-6">
	                  <div class="description-block border-right">
	                    <span class="description-percentage text-green"><i class="fa fa-caret-up"></i> 17%</span>
	                    <h5 class="description-header">$35,210.43</h5>
	                    <span class="description-text">TOTAL Chips Bougth</span>
	                  </div>
	                  
	                </div>
	                
	                <div class="col-sm-3 col-xs-6">
	                  <div class="description-block border-right">
	                    <span class="description-percentage text-yellow"><i class="fa fa-caret-left"></i> 0%</span>
	                    <h5 class="description-header">$10,390.90</h5>
	                    <span class="description-text">TOTAL Chips Bougth by New User</span>
	                  </div>
	                  
	                </div>
	                
	                <div class="col-sm-3 col-xs-6">
	                  <div class="description-block border-right">
	                    <span class="description-percentage text-green"><i class="fa fa-caret-up"></i> 20%</span>
	                    <h5 class="description-header">$24,813.53</h5>
	                    <span class="description-text">TOTAL PROFIT</span>
	                  </div>
	                 
	                </div>
	               
	                <div class="col-sm-3 col-xs-6">
	                  <div class="description-block">
	                    <span class="description-percentage text-red"><i class="fa fa-caret-down"></i> 18%</span>
	                    <h5 class="description-header">1200</h5>
	                    <span class="description-text">GOAL COMPLETIONS</span>
	                  </div>
	                 
	                </div>
	              </div>
	              
	            </div> -->
	           
	          </div>
	          
	        </div>
	       
      	</div>
     

      	<!-- Main row -->
     	<div class="row">
	        <!-- Left col -->
	        <div class="col-md-12">
	          
	          <div class="row">
	            <div class="col-md-12">
	              <!-- USERS LIST -->
	              <div class="box box-danger">
	                <div class="box-header with-border">
	                  <h3 class="box-title">Latest Players</h3>

	                  <div class="box-tools pull-right">
	                    <span class="label label-danger">{{latestPalyer.length}} New Players</span>
	                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
	                    </button>
	                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i>
	                    </button>
	                  </div>
	                </div>
	                <!-- /.box-header -->
	                <div class="box-body no-padding">
	                  <ul class="users-list clearfix">
	                  	{%for player in latestPalyer %}
	                  		<li style="width:20%;">
	                  		  <img src="dist/img/user.png" alt="User Image" width="30px" height="30px">
	                  		  <a class="users-list-name" href="#">{{player.username}}</a>
	                  		  <span class="users-list-date">{{player.createdAtFormated}}</span>
	                  		</li>
	                  	{%endfor%}
	                   </ul>
	                  <!-- /.users-list -->
	                </div>
	                <!-- /.box-body -->
	                <div class="box-footer text-center">
	                  <a href="/player" class="uppercase">View All Players</a>
	                </div>
	                <!-- /.box-footer -->
	              </div>
	              <!--/.box -->
	            </div>
	            <!-- /.col -->
	          </div>
	          <!-- /.row -->
					</div>
					<div class="col-md-8">	
	          <!-- TABLE: LATEST ORDERS -->
	          <div class="box box-info">
	            <div class="box-header with-border">
	              <h3 class="box-title">Latest Game History</h3>

	              <div class="box-tools pull-right">
	                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
	                </button>
	                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
	              </div>
	            </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	              <div class="table-responsive">
	                <table class="table no-margin" id="myTable">
	                  <thead>
	                  <tr>
	                    <th>Game Number</th>
	                    <th>Game Name</th>
	                    <th>Game Type</th>
	                    <th>status</th>
	                    <!-- <th>Pot</th> -->
	                  </tr>
	                  </thead>
	                  <tbody>

	                  <!-- <tr>
	                    <td><a href="pages/examples/invoice.html">OR9842</a></td>
	                    <td>Call of Duty IV</td>
	                    <td><span class="label label-success">Shipped</span></td>
	                    <td><span class="label label-success">Shipped</span></td>
	                    <td>
	                      <div class="sparkbar" data-color="#00a65a" data-height="20">90,80,90,-70,61,-83,63</div>
	                    </td>
	                  </tr> -->
	                  
	                  </tbody>
	                </table>
	              </div>
	              <!-- /.table-responsive -->
	            </div>
	            <!-- /.box-body -->
	            <div class="box-footer clearfix">
	              <a href="/game" class="btn btn-sm btn-info btn-flat pull-left">View All History</a>
	             <!--  <a href="javascript:void(0)" class="btn btn-sm btn-default btn-flat pull-right">View All Orders</a> -->
	            </div>
	            <!-- /.box-footer -->
	          </div>
	          <!-- /.box -->
	        </div>
	        <!-- /.col -->
	        <div class="col-md-4">
	          <!-- PRODUCT LIST -->
	          <div class="box box-primary">
	            <div class="box-header with-border">
	              <h3 class="box-title">Top Players</h3>

	              <div class="box-tools pull-right">
	                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
	                </button>
	                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
	              </div>
	            </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	              <ul class="products-list product-list-in-box">
	                {% for player in topPlayers %}
	                	<li class="item">
	                	  <div class="product-img">
	                	    <img src="dist/img/logo.png" alt="Product Image">
	                	  </div>
	                	  <div class="product-info">
	                	    <a href="javascript:void(0)" class="product-title">{{player.username}}
	                	      </a>
	                	    
	                	    <span class="product-description">
	                	          <i class="fa fa-inr"></i> {{player.cash}}
	                	        </span>
	                	  </div>
	                	</li>
	                {% endfor%}

	              </ul>
	            </div>
	            <!-- /.box-body -->
	            <div class="box-footer text-center">
	              <a href="/player" class="uppercase">View All Players</a>
	            </div>
	            <!-- /.box-footer -->
	          </div>
	          <!-- /.box -->
	        </div>
	        <!-- /.col -->
      	</div>
      <!-- /.row -->
			<!-- New row-->
			    	<div class="row">
	        <!-- Left col -->
	        
					<div class="col-md-12">	
	          <!-- TABLE: LATEST ORDERS -->
	          <div class="box box-info">
	            <div class="box-header with-border">
	              <h3 class="box-title">Active Games</h3>

	              <div class="box-tools pull-right">
	                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
	                </button>
	                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
	              </div>
	            </div>
	            <!-- /.box-header -->
	            <div class="box-body">
	              <div class="table-responsive">
	                <table class="table no-margin" id="activeGame">
	                  <thead>
	                  <tr>
	                    <th>Game Number</th>
	                    <th>Game Name</th>
	                    <th>Game Type</th>
	                    <th>status</th>
	                    <!-- <th>Pot</th> -->
	                  </tr>
	                  </thead>
	                  <tbody>

	                  <!-- <tr>
	                    <td><a href="pages/examples/invoice.html">OR9842</a></td>
	                    <td>Call of Duty IV</td>
	                    <td><span class="label label-success">Shipped</span></td>
	                    <td><span class="label label-success">Shipped</span></td>
	                    <td>
	                      <div class="sparkbar" data-color="#00a65a" data-height="20">90,80,90,-70,61,-83,63</div>
	                    </td>
	                  </tr> -->
	                  
	                  </tbody>
	                </table>
	              </div>
	              <!-- /.table-responsive -->
	            </div>
	            <!-- /.box-body -->
	            {# <div class="box-footer clearfix">
	              <a href="/game" class="btn btn-sm btn-info btn-flat pull-left">View All History</a>
	             <!--  <a href="javascript:void(0)" class="btn btn-sm btn-default btn-flat pull-right">View All Orders</a> -->
	            </div> #}
	            <!-- /.box-footer -->
	          </div>
	          <!-- /.box -->
	        </div>
      	</div>

    </section>
    <!-- /.content -->

 </div>
 <!-- /.content-wrapper -->

<!-- Footer -->
<footer class="main-footer">
    <div class="pull-right hidden-xs">
      <!-- <b>Version</b> 2.4.0 -->
    </div>
    
</footer>
<!-- /Footer -->

</div>

{% endblock %}


{% block Jscript %}
<script>
	$(document).ready( function () {
		var host = window.location.origin;
		$('#myTable').DataTable({
		"scrollX": false,
		"searching": false,
		"paging":false,
		"ordering": false,
		"ajax": host + "/game/history",
		"columns": [
			{ "data": "gameNumber" },
			{ "data": "type" },
			{ "data": "gameType"},
			{ "data": "status"},
			// { "data": "pot"}
			]
		});
		$('#activeGame').DataTable({
		"scrollX": false,
		"searching": false,
		"paging":false,
		"ordering": false,
		"ajax": host + "/game/activeGame",
		"columns": [
			{ "data": "tableNumber" },
			{ "data": "type" },
			{ "data": "gameType"},
			{ "data": "status"},
			// { "data": "pot"}
			]
		});
	
	} );
	
</script>
<script type="text/javascript" src="/dist/js/gameChartsData.js"></script>

{% endblock %}
