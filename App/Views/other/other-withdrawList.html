{% extends "partition/layout.html" %}


{% block body %}

		<!-- Main Content -->
		<div class="page-wrapper">
			<div class="container-fluid">
				<!-- Title -->
				<section class="content-header">
				    <h1>Other Withdraw Request</h1>
				    <ol class="breadcrumb">
				        <li><a href="#"><i class="fa fa-dashboard"></i> Dashboard</a></li>
				        <li class="active" href="/other/other-request">Withdraw Request</li>
				    </ol>
				</section>
				<!-- /Title -->
				{% include "partition/notification.html" %}
				<!-- Row -->
				<section class="content">
					<div class="row">
						<div class="col-sm-12">
							<div class="panel panel-default card-view">
								<div class="panel-heading">
									<div class="pull-left">
										<h6 class="panel-title txt-dark"></h6>

									<div class="clearfix"></div>
								</div>
								<div class="panel-wrapper collapse in">
									<div class="panel-body">
										<div class="table-wrap">
											<div class="table-responsive">
												<table id="myTable" class="table table-bordered table-striped" >
													<thead>
														<tr>
															<th>Name</th>
															<th>Amount</th>
															<th>Bank Name</th>
															<th>Account Number</th>
															<th>IFSC Code</th>
															<th>Status</th>
														
														</tr>
													</thead>
													<tbody>
													</tbody>
												</table>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
		</div>
		<section class="content">
			<!-- Row -->
			<div class="row">
					<!-- /.modal -->
					<!-- <div id="responsive-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
						<div class="modal-dialog">
							<div class="modal-content">
							<form method="POST" name="adduser" action="/player/chipsAdd">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
									<h5 class="modal-title">Add/Deduct Cash and Chips </h5>
								</div>
								<div class="modal-body">
								<div id="chipsAdd"> </div>
										<div class="form-group">
											<label for="chips" class="control-label mb-10">Chips:</label>
											<input type="text" name="chips" class="form-control" id="chips" value="0" required>
										</div>

										<div class="form-group">
											<label for="cash" class="control-label mb-10">Cash:(Only Add)</label>
											<input type="text" name="cash" class="form-control" id="cash" value="0" required>
										</div>

								</div>
								<div class="modal-footer">
									<input type="submit" name="chipsValue" class="btn btn-success" value="Add">
									<input type="submit" class="btn btn-danger" name="chipsValue" value="Deduct">
								</div>
							</form>
							</div>
						</div>
					</div> -->
					<!-- Button trigger modal -->
			</div>
			<!-- /Row -->
		</section>


{% endblock %}

{% block Jscript %}
<!-- <script src="https://code.jquery.com/jquery-3.3.1.js"></script> -->
<!-- <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script> -->
<script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
<!-- <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.flash.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.print.min.js"></script>
<script>

$(document).ready( function () {
	var host = window.location.origin;
	$('#myTable').DataTable({
		"dom": 'Blfrtip',
    "buttons": [
      'copy', 'csv', 'excel', 'pdf', 'print'
    ],
		"oLanguage": {
			"sSearch": "Search Username"
		},
		// "scrollX": true,
		"processing": true,
		"serverSide": true,
		// "searching": false,
		"ordering": false,
		"autoWidth": false,
		"aLengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
		"iDisplayLength": 100,
		"ajax": host + "/other/getOtherWithdrawRequestList",
		"columns": [
			{ "data": "name" },
			
			{ "data": "amount" },
			{ "data": "bankName" },
			{ "data": "accountNumber" },
			{ "data": "ifscCode" },
			{ "data": "status" },
			// {
			// 	"data": "action",
			// 	render : function(data, type, row){
			// 		return '<a target="_blank" href="other/take_img/'+row.take_photo+'"><button type="button" class="btn btn-warning btn-xs btn-rounded" name="edit" title="View Document"><i class="fa fa-eye" aria-hidden="true"></i></button></a> '
			// 		// return '<a href="/userEdit/'+row._id+'"><button type="button" class="btn btn-warning btn-xs" name="edit"><i class="fa fa-edit" aria-hidden="true"></i></button></a> <button type="button" name="delete" id="'+row._id+'" class="btn btn-danger btn-xs delete"><i class="fa fa-trash" aria-hidden="true"></i></button> '
			// 	}
			// },
			// {
			// 	"data": "action",
			// 	render : function(data, type, row){
			// 		return '<a target="_blank" href="other/document/'+row.document+'"><button type="button" class="btn btn-warning btn-xs btn-rounded" name="edit" title="View Document"><i class="fa fa-eye" aria-hidden="true"></i></button></a> '
			//
			// 	}
			// },
			// { "data": "email" },
			// { "data": "chips" },
			// { "data": "cash" },
			// { "data": "status" },
			// { "data": "isBot" },
			// {
   //            "data": "isBot",
   //          render : function(data, type, row){
   //            return data?'<div class="text-center"><b>Yes</b><br>('+row.botStatus+')</div>':'<div class="text-center">No</div>'
   //          }
   //        },
			// { "data": "email" },
			// {
			// 	"data": "image",
			// 	render : function(data, type, row){
			// 		return '<img height="100px" src="'+row.image+'"></img>'
			// 	}
			// },

		
		]
	});

	$(function() {
		"use strict";

		var SweetAlert = function() {};

		SweetAlert.prototype.init = function() {

			//Parameter
			$('body').on('click', '.response', function(e){
				var id = $(this).attr('id');
				console.log('id: ',id);
				var response = $(this).attr('response');
					var thisElement = this;
					swal({
							title: "Are you sure?",
							text: "You will not be able to Revert this Action!",
							type: "warning",
							showCancelButton: true,
							confirmButtonColor: "#e69a2a",
							confirmButtonText: "Yes,do it!",
							cancelButtonText: "No, cancel it!",
							closeOnConfirm: false,
							closeOnCancel: false
					}, function(isConfirm){
							if (isConfirm) {
								$.ajax({
									type: 'POST',
									url: host + "/other/withdraw-request-update",
									data: {id: id},
									success: function(resultData) {
										// alert(resultData)
										console.log(resultData);
										if (resultData == 'success') {
											$(thisElement).parent().parent().hide(700);
											swal("!", "Transaction is Been updated.", "success");
										}else {
											swal("Alert!", "Something went wrong.", "error");
												// alert("Something went wrong")
										}
										// alert("Save Complete")
									}
								});
									swal("!", "Transaction is Been updated.", "success");
							} else {
									swal("Cancelled", "Something went wrong", "error");
							}
					});
					return false;
			});

			// Active & Deactive

			// $('body').on('click', '.playerActive', function(e){
			// 		var id = $(this).attr('id');
			// 		var thisElement = this;
			// 			swal({
			// 					title: "Are you sure?",
			// 					text: "Do you want to update the status?",
			// 					type: "warning",
			// 					showCancelButton: true,
			// 					confirmButtonColor: "#e69a2a",
			// 					confirmButtonText: "Yes, Update it!",
			// 					cancelButtonText: "No, cancel pls!",
			// 					closeOnConfirm: false,
			// 					closeOnCancel: false
			// 			}, function(isConfirm){
			// 					if (isConfirm) {
			// 						$.ajax({
			// 							type: 'POST',
			// 							url: host + "/player/active",
			// 							data: {id: id},
			// 							success: function(resultData , data) {
			// 								console.log(data);
			// 								if (resultData == 'success') {
			// 									location.reload();
			// 									//$(thisElement).parent().parent().hide(700);
			// 									//swal("Update!", "Player Status Updated Successfully..", "success");
			// 								}else {
			// 										alert("Something went wrong")
			// 								}
			//
			// 							}
			// 						});
			// 							swal("Success!", "Player Status Updated Succesfully.", "success");
			// 					} else {
			// 							swal("Cancelled", "Player Status not Updated)", "error");
			// 					}
			// 			});
			// 			return false;
			// });

		},
		$.SweetAlert = new SweetAlert, $.SweetAlert.Constructor = SweetAlert;

		$.SweetAlert.init();
	});

	// $("body").on("click", ".addChips", function(){
	// 	var PlayerId = $(this).attr("id");
	// 	// console.log("player id ----------->",PlayerId)
	// 	var html = '<input type="hidden" name="playerId" value="'+PlayerId+'" />';
	// 	$("#chipsAdd").html(html);
	// });
} );

</script>
{% endblock %}